<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Nowy zabieg</h1>
        </div>
    </div>
    <div class="row" data-ng-show="TCC.errorCreate">
        <div class="col-lg-12">
            <div class="alert alert-danger" role="alert">
                <strong>Błąd!</strong> Wystąpił problem podczas dodawania nowego zabiegu.
            </div>
        </div>
    </div>
    <form class="row" role="form" name="newTreatment">
        <div class="col-lg-6">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Nowy zabieg</h3>
                </div>
                <div class="panel-body">
                    <div class="form-group has-feedback required" data-ng-class="newTreatment.kindOfTreatment.$valid ? 'has-success' : (newTreatment.kindOfTreatment.$pristine ? '' : 'has-error')">
                        <label class="control-label" for="kindOfTreatment">Rodzaj zabiegu</label>
                        <input name="kindOfTreatment" type="text" class="form-control" data-ng-blur="kindOfTreatmentBlur = true" data-ng-model="TCC.treatmentDetails.kindoftreatment" data-ng-minlength="2" data-ng-maxlength="32" placeholder="Rodzaj zabiegu" required>
                        <span class="fa form-control-feedback" data-ng-class="newTreatment.kindOfTreatment.$valid ? 'fa-check' : (newTreatment.kindOfTreatment.$pristine ? '' : 'fa-times')"></span>
                        <p class="help-block" data-ng-show="kindOfTreatmentBlur && newTreatment.kindOfTreatment.$error.minlength">
                            Wprowadź rodzaj zabiegu składający się z minimum 2 znaków.
                        </p>
                        <p class="help-block" data-ng-show="kindOfTreatmentBlur && newTreatment.kindOfTreatment.$error.maxlength">
                            Wprowadź rodzaj zabiegu składający się z maksymalnie 32 znaków.
                        </p>
                    </div>
                    <div class="form-group has-feedback required" data-ng-class="(newTreatment.price.$valid) ? 'has-success' : (newTreatment.price.$pristine ? '' : 'has-error')">
                        <label class="control-label" for="price">Cena</label>
                        <div class="input-group">
                            <input name="price" type="number" class="form-control" data-ng-blur="priceBlur = true" data-ng-model="TCC.treatmentDetails.price" placeholder="Cena" min="0" max="999.99" required>
                            <span class="fa form-control-feedback" style="right: 39px;" data-ng-class="(newTreatment.price.$valid) ? 'fa-check' : (newTreatment.price.$pristine ? '' : 'fa-times')"></span>
                            <span class="input-group-addon">zł.</span>
                        </div>
                        <p class="help-block" data-ng-show="priceBlur && newTreatment.price.$error.min">
                            Cena musi być wartością dodatnią.
                        </p>
                        <p class="help-block" data-ng-show="priceBlur && newTreatment.price.$error.max">
                            Wprowadź cenę nieprzekraczającą 999,99 złotych.
                        </p>
                    </div>
                    <div class="form-group has-feedback" data-ng-class="newTreatment.duration.$valid ? 'has-success' : (newTreatment.duration.$pristine ? '' : 'has-error')">
                        <label class="control-label" for="duration">Czas trwania</label>
                        <div class="input-group">
                            <input name="duration" type="number" class="form-control" data-ng-blur="durationBlur = true" data-ng-model="TCC.treatmentDetails.duration" placeholder="Czas trwania" min="0" max="480">
                            <span class="fa form-control-feedback" style="right: 54px;" data-ng-class="newTreatment.duration.$valid ? 'fa-check' : (newTreatment.duration.$pristine ? '' : 'fa-times')"></span>
                            <span class="input-group-addon">min.</span>
                        </div>
                        <p class="help-block" data-ng-show="durationBlur && newTreatment.duration.$error.min">
                            Czas trwania zabiegu musi być wartością dodatnią.
                        </p>
                        <p class="help-block" data-ng-show="durationBlur && newTreatment.duration.$error.max">
                            Wprowadź czas trwania nieprzekraczający 480 minut (8h).
                        </p>
                    </div>
                    <div class="form-group has-feedback" data-ng-class="newTreatment.description.$valid ? 'has-success' : (newTreatment.description.$pristine ? '' : 'has-error')">
                        <label class="control-label" for="description">Opis</label>
                        <textarea name="description" class="form-control" data-ng-model="TCC.treatmentDetails.description" maxlength="1024" rows="10" placeholder="Opis"></textarea>
                        <span class="fa form-control-feedback" data-ng-class="newTreatment.description.$valid ? 'fa-check' : (newTreatment.description.$pristine ? '' : 'fa-times')"></span>
                    </div>
                    <div class="form-group has-feedback required" data-ng-class="newTreatment.recommendations.$valid ? 'has-success' : (newTreatment.recommendations.$pristine ? '' : 'has-error')">
                        <label class="control-label" for="recommendations">Wskazania</label>
                        <textarea name="recommendations" class="form-control" data-ng-model="TCC.treatmentDetails.recommendations" maxlength="1024" rows="10" placeholder="Wskazania" required></textarea>
                        <span class="fa form-control-feedback" data-ng-class="newTreatment.recommendations.$valid ? 'fa-check' : (newTreatment.recommendations.$pristine ? '' : 'fa-times')"></span>
                    </div>
                    <div class="form-group has-feedback required" data-ng-class="newTreatment.contraindications.$valid ? 'has-success' : (newTreatment.contraindications.$pristine ? '' : 'has-error')">
                        <label class="control-label" for="contraindications">Przeciwwskazania</label>
                        <textarea name="contraindications" class="form-control" data-ng-model="TCC.treatmentDetails.contraindications" maxlength="1024" rows="10" placeholder="Przeciwwskazania" required></textarea>
                        <span class="fa form-control-feedback" data-ng-class="newTreatment.contraindications.$valid ? 'fa-check' : (newTreatment.contraindications.$pristine ? '' : 'fa-times')"></span>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <button type="submit" class="btn btn-primary" data-ng-click="TCC.saveTreatmentDetails()" data-ng-hide="TCC.submitting" data-ng-disabled="newTreatment.$invalid" data-toggle="tooltip" title="Dodaj nowy zabieg"><i class="fa fa-plus"></i> Dodaj</button>
    <button class="btn btn-default" data-ui-sref="root.treatments.list" data-ng-hide="TCC.submitting" data-toggle="tooltip" title="Wróć na listę zabiegów"><i class="fa fa-times"></i> Anuluj</button>
    <p align="center" data-ng-show="TCC.submitting"><i class="fa fa-spinner fa-spin fa-3x fa-fw"></i></p>
</div>
